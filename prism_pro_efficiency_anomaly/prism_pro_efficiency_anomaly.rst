.. _prism_pro_effeciency_anomaly:

--------------------------------------------
Prism Pro: VM 效率 & 異常發現
--------------------------------------------

簡介
++++++++



實作設置
+++++++++

該實作需要配置VM，稍後將在實作中加壓力測試以生成CPU和記憶體指標。

#. 在開始這個實作之前，請按照說明進行部署 :ref:`linux_tools_vm` 


#. 按右鍵以下URL以打開一個新選項卡，並導航至位於http://10.42.247.70的網頁，然後在表單的“設置”部分中輸入詳細資訊。 填寫所有欄位後，請點擊“開始設置”。 這將為您準備好本實作的環境。 **請在整個Prism Pro實作期間將此標籤保持打開狀態，然後再按指示返回。**

   .. figure:: images/ppro_08.png

#. 點擊繼續後，安裝過程將花費一些時間。 同時，切換回Prism Central並通過實作室。

VM Efficiency
+++++++++++++++++++++++++++

Prism Pro使用X-Fit機器學習來檢測在託管群集中運行的VM的行為。 然後對被認為效率低下的VM進行分類。 以下是不同分類的簡短說明：

* **Overprovisioned:** 標識為使用最少數量的已分配資源的VM。
* **Inactive:** 已關閉電源一段時間或正在運行的VM不會消耗任何CPU，記憶體或I / O資源。
* **Constrained:** 可以通過其他資源來提高效能的VM。
* **Bully:** 被確定為使用了大量資源並影響其他VM的VM。

#. 在 **Prism Central**, 選擇 :fa:`bars` **> Dashboard**.

#. 在儀錶板上，查看“ VM效率”小工具。 此小工具概述了Prism Pro的X-FIT機器學習在您的環境中檢測到的低效VM。 點擊小工具底部的“查看所有Inefficeint虛擬機器”連結，以進行更仔細的查看。

   .. figure:: images/ppro_58.png

#. 現在，您將在VM列表視圖中查看“效率”焦點，並詳細瞭解為何Prism Pro標記了這些VM。 您可以將滑鼠懸停在“效率詳細資訊”列中的文本以查看完整的描述。

   .. figure:: images/ppro_59.png

#. 管理員檢查了效率列表中的VM列表後，他們可以確定希望對其採取行動的任何VM。 對於資源過多或不足的VM，它們將需要調整各個VM的大小。 可以通過以下幾種示例以多種方式完成此操作：

* **Manually:** 管理員通過Prism或vCenter為ESXi VM編輯VM配置並更改分配的資源。
* **X-Play:** 使用X-Play自動劇本通過觸發器或管理員指示自動調整VM的大小。 在本實作的後面，將有一個實作的例子。
* **Automation:** 使用其他一些自動化方法，例如powershell或REST-API來調整VM的大小。


異常檢測
+++++++++++++++++++++++++++++++

在本實作中，您將瞭解異常的虛擬機器。 異常是與VM正常學習行為的偏差。 X-FIT演算法學習VM的正常行為，並將其表示為每個VM在不同圖表上的基線範圍。

#. 現在，通過搜索“ bootcamp_good”並選擇“ bootcamp_good_1”來查看虛擬機器。

   .. figure:: images/ppro_61.png

#. 轉到指標> CPU使用率。 請注意，一條深藍色的線及其周圍的淺藍色區域。 深藍色線是CPU使用率。 淺藍色區域是此VM的預期CPU使用率範圍。 該範圍是使用Prism Pro的X-FIT機器學習引擎計算得出的。 在這種情況下，此虛擬機器已出現異常，因為“使用情況”遠低於預期範圍。 您還可以縮短“過去24小時”的時間範圍，以更仔細地檢查圖表。

   .. figure:: images/ppro_60.png

#. 按一下 **Alert Setting**來為這種情況設置警報策略。

#. 在右側，您可以根據需要更改某些配置。 在此示例中，我更改了“行為異常”閾值以忽略10％到70％之間的異常。 所有其他異常將生成警告警報。 如果此VM上的CPU使用率超過95％，我還將“靜態”閾值調整為“嚴重警報”。

   .. figure:: images/ppro_25.png

#. 點擊 **Cancel**退出策略創建工作流程。

概要總結
+++++++++

-Prism Pro是我們使IT OPS更加智慧和自動化的解決方案。 它涵蓋從智慧檢測到自動修復的IT OPS流程。
-X-FIT是我們的機器學習引擎，可支援智慧IT OPS，包括預測，異常檢測和效率低下檢測。
